# Generated by Django 5.0.7 on 2025-11-03 17:11

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='ADGroup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('country_code', models.CharField(choices=[('BR', 'ğŸ‡§ğŸ‡· Brasil'), ('AR', 'ğŸ‡¦ğŸ‡· Argentina'), ('MX', 'ğŸ‡²ğŸ‡½ MÃ©xico'), ('DE', 'ğŸ‡©ğŸ‡ª Alemanha'), ('IT', 'ğŸ‡®ğŸ‡¹ ItÃ¡lia'), ('CN', 'ğŸ‡¨ğŸ‡³ China'), ('US', 'ğŸ‡ºğŸ‡¸ Estados Unidos'), ('ES', 'ğŸ‡ªğŸ‡¸ Espanha'), ('FR', 'ğŸ‡«ğŸ‡· FranÃ§a'), ('GB', 'ğŸ‡¬ğŸ‡§ Reino Unido'), ('JP', 'ğŸ‡¯ğŸ‡µ JapÃ£o'), ('IN', 'ğŸ‡®ğŸ‡³ Ãndia'), ('CA', 'ğŸ‡¨ğŸ‡¦ CanadÃ¡'), ('AU', 'ğŸ‡¦ğŸ‡º AustrÃ¡lia'), ('CL', 'ğŸ‡¨ğŸ‡± Chile'), ('CO', 'ğŸ‡¨ğŸ‡´ ColÃ´mbia'), ('PE', 'ğŸ‡µğŸ‡ª Peru'), ('UY', 'ğŸ‡ºğŸ‡¾ Uruguai'), ('PY', 'ğŸ‡µğŸ‡¾ Paraguai'), ('PT', 'ğŸ‡µğŸ‡¹ Portugal'), ('NL', 'ğŸ‡³ğŸ‡± Holanda'), ('BE', 'ğŸ‡§ğŸ‡ª BÃ©lgica'), ('CH', 'ğŸ‡¨ğŸ‡­ SuÃ­Ã§a'), ('AT', 'ğŸ‡¦ğŸ‡¹ Ãustria'), ('PL', 'ğŸ‡µğŸ‡± PolÃ´nia'), ('CZ', 'ğŸ‡¨ğŸ‡¿ RepÃºblica Tcheca'), ('RU', 'ğŸ‡·ğŸ‡º RÃºssia'), ('ZA', 'ğŸ‡¿ğŸ‡¦ Ãfrica do Sul'), ('EG', 'ğŸ‡ªğŸ‡¬ Egito'), ('KR', 'ğŸ‡°ğŸ‡· Coreia do Sul'), ('TH', 'ğŸ‡¹ğŸ‡­ TailÃ¢ndia'), ('VN', 'ğŸ‡»ğŸ‡³ VietnÃ£'), ('ID', 'ğŸ‡®ğŸ‡© IndonÃ©sia'), ('MY', 'ğŸ‡²ğŸ‡¾ MalÃ¡sia'), ('SG', 'ğŸ‡¸ğŸ‡¬ Singapura'), ('TR', 'ğŸ‡¹ğŸ‡· Turquia'), ('SA', 'ğŸ‡¸ğŸ‡¦ ArÃ¡bia Saudita'), ('AE', 'ğŸ‡¦ğŸ‡ª Emirados Ãrabes')], max_length=2)),
                ('name', models.CharField(default='', max_length=200)),
                ('distinguished_name', models.CharField(default='', max_length=500, unique=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('member_count', models.IntegerField(default=0)),
                ('can_create_suppliers', models.BooleanField(default=False, verbose_name='Pode criar fornecedores')),
                ('can_edit_suppliers', models.BooleanField(default=False, verbose_name='Pode editar fornecedores')),
                ('can_delete_suppliers', models.BooleanField(default=False, verbose_name='Pode excluir fornecedores')),
                ('last_sync', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Grupo do AD',
                'verbose_name_plural': 'Grupos do AD',
                'ordering': ['country_code', 'name'],
                'unique_together': {('country_code', 'name')},
            },
        ),
        migrations.CreateModel(
            name='AdminProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('access_level', models.CharField(choices=[('global_admin', 'Administrador Global'), ('country_admin', 'Administrador de PaÃ­s'), ('manager', 'Gerente'), ('user', 'UsuÃ¡rio')], default='user', max_length=20, verbose_name='NÃ­vel de Acesso')),
                ('country_code', models.CharField(blank=True, choices=[('BR', 'ğŸ‡§ğŸ‡· Brasil'), ('AR', 'ğŸ‡¦ğŸ‡· Argentina'), ('MX', 'ğŸ‡²ğŸ‡½ MÃ©xico'), ('DE', 'ğŸ‡©ğŸ‡ª Alemanha'), ('IT', 'ğŸ‡®ğŸ‡¹ ItÃ¡lia'), ('CN', 'ğŸ‡¨ğŸ‡³ China'), ('US', 'ğŸ‡ºğŸ‡¸ Estados Unidos'), ('ES', 'ğŸ‡ªğŸ‡¸ Espanha'), ('FR', 'ğŸ‡«ğŸ‡· FranÃ§a'), ('GB', 'ğŸ‡¬ğŸ‡§ Reino Unido'), ('JP', 'ğŸ‡¯ğŸ‡µ JapÃ£o'), ('IN', 'ğŸ‡®ğŸ‡³ Ãndia'), ('CA', 'ğŸ‡¨ğŸ‡¦ CanadÃ¡'), ('AU', 'ğŸ‡¦ğŸ‡º AustrÃ¡lia'), ('CL', 'ğŸ‡¨ğŸ‡± Chile'), ('CO', 'ğŸ‡¨ğŸ‡´ ColÃ´mbia'), ('PE', 'ğŸ‡µğŸ‡ª Peru'), ('UY', 'ğŸ‡ºğŸ‡¾ Uruguai'), ('PY', 'ğŸ‡µğŸ‡¾ Paraguai'), ('PT', 'ğŸ‡µğŸ‡¹ Portugal'), ('NL', 'ğŸ‡³ğŸ‡± Holanda'), ('BE', 'ğŸ‡§ğŸ‡ª BÃ©lgica'), ('CH', 'ğŸ‡¨ğŸ‡­ SuÃ­Ã§a'), ('AT', 'ğŸ‡¦ğŸ‡¹ Ãustria'), ('PL', 'ğŸ‡µğŸ‡± PolÃ´nia'), ('CZ', 'ğŸ‡¨ğŸ‡¿ RepÃºblica Tcheca'), ('RU', 'ğŸ‡·ğŸ‡º RÃºssia'), ('ZA', 'ğŸ‡¿ğŸ‡¦ Ãfrica do Sul'), ('EG', 'ğŸ‡ªğŸ‡¬ Egito'), ('KR', 'ğŸ‡°ğŸ‡· Coreia do Sul'), ('TH', 'ğŸ‡¹ğŸ‡­ TailÃ¢ndia'), ('VN', 'ğŸ‡»ğŸ‡³ VietnÃ£'), ('ID', 'ğŸ‡®ğŸ‡© IndonÃ©sia'), ('MY', 'ğŸ‡²ğŸ‡¾ MalÃ¡sia'), ('SG', 'ğŸ‡¸ğŸ‡¬ Singapura'), ('TR', 'ğŸ‡¹ğŸ‡· Turquia'), ('SA', 'ğŸ‡¸ğŸ‡¦ ArÃ¡bia Saudita'), ('AE', 'ğŸ‡¦ğŸ‡ª Emirados Ãrabes')], max_length=5, null=True, verbose_name='PaÃ­s')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado Em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado Em')),
                ('is_active', models.BooleanField(default=True, verbose_name='Ativo')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='admins_created', to=settings.AUTH_USER_MODEL, verbose_name='Criado Por')),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='admin_profile', to=settings.AUTH_USER_MODEL, verbose_name='UsuÃ¡rio')),
            ],
            options={
                'verbose_name': 'Perfil de Administrador',
                'verbose_name_plural': 'Perfis de Administradores',
                'ordering': ['access_level', 'country_code', 'user__first_name'],
            },
        ),
        migrations.CreateModel(
            name='CountryPermission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('can_configure_ad', models.BooleanField(default=False, verbose_name='Pode Configurar Active Directory')),
                ('ad_config_type', models.CharField(choices=[('own', 'ConfiguraÃ§Ã£o PrÃ³pria'), ('manual', 'ConfiguraÃ§Ã£o Manual (definida pelo Global Admin)'), ('system_default', 'Usar PadrÃ£o do Sistema')], default='own', help_text='Se "Pode Configurar AD" = False, define qual configuraÃ§Ã£o usar', max_length=20, verbose_name='Tipo de ConfiguraÃ§Ã£o AD')),
                ('can_configure_smtp', models.BooleanField(default=False, verbose_name='Pode Configurar SMTP')),
                ('smtp_config_type', models.CharField(choices=[('own', 'ConfiguraÃ§Ã£o PrÃ³pria'), ('manual', 'ConfiguraÃ§Ã£o Manual (definida pelo Global Admin)'), ('system_default', 'Usar PadrÃ£o do Sistema')], default='own', help_text='Se "Pode Configurar SMTP" = False, define qual configuraÃ§Ã£o usar', max_length=20, verbose_name='Tipo de ConfiguraÃ§Ã£o SMTP')),
                ('can_sync_ad_groups', models.BooleanField(default=True, verbose_name='Pode Sincronizar Grupos do AD')),
                ('can_assign_permissions', models.BooleanField(default=True, verbose_name='Pode Atribuir PermissÃµes')),
                ('can_manage_local_users', models.BooleanField(default=True, verbose_name='Pode Gerenciar UsuÃ¡rios Locais')),
                ('can_manage_suppliers', models.BooleanField(default=True, verbose_name='Pode Gerenciar Fornecedores')),
                ('can_manage_contracts', models.BooleanField(default=True, verbose_name='Pode Gerenciar Contratos')),
                ('can_manage_quality', models.BooleanField(default=True, verbose_name='Pode Gerenciar Qualidade')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado Em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado Em')),
                ('admin_profile', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='country_permissions', to='access_control.adminprofile', verbose_name='Perfil de Admin')),
            ],
            options={
                'verbose_name': 'PermissÃ£o de PaÃ­s',
                'verbose_name_plural': 'PermissÃµes de PaÃ­ses',
            },
        ),
        migrations.CreateModel(
            name='SystemDefaultConfig',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ad_enabled', models.BooleanField(default=False, help_text='Habilitar configuraÃ§Ã£o AD padrÃ£o do sistema', verbose_name='AD PadrÃ£o Ativo')),
                ('ad_server', models.CharField(blank=True, help_text='Exemplo: ad.empresa.com', max_length=255, verbose_name='Servidor AD')),
                ('ad_port', models.IntegerField(default=389, verbose_name='Porta AD')),
                ('ad_use_ssl', models.BooleanField(default=False, verbose_name='Usar SSL (LDAPS)')),
                ('ad_use_tls', models.BooleanField(default=False, verbose_name='Usar START_TLS')),
                ('ad_bind_user_dn', models.CharField(blank=True, help_text='Exemplo: CN=Admin,CN=Users,DC=empresa,DC=com', max_length=500, verbose_name='User DN para Bind')),
                ('ad_bind_password', models.CharField(blank=True, max_length=500, verbose_name='Senha do Bind (criptografada)')),
                ('ad_base_dn', models.CharField(blank=True, help_text='Exemplo: DC=empresa,DC=com', max_length=500, verbose_name='Base DN')),
                ('ad_user_search_base', models.CharField(blank=True, max_length=500, verbose_name='Base de Busca de UsuÃ¡rios')),
                ('ad_search_filter', models.CharField(blank=True, default='(sAMAccountName={username})', max_length=255, verbose_name='Filtro de Busca LDAP')),
                ('smtp_enabled', models.BooleanField(default=False, help_text='Habilitar configuraÃ§Ã£o SMTP padrÃ£o do sistema', verbose_name='SMTP PadrÃ£o Ativo')),
                ('smtp_host', models.CharField(blank=True, help_text='Exemplo: smtp.gmail.com', max_length=255, verbose_name='Servidor SMTP')),
                ('smtp_port', models.IntegerField(default=587, verbose_name='Porta SMTP')),
                ('smtp_use_tls', models.BooleanField(default=True, verbose_name='Usar TLS')),
                ('smtp_username', models.CharField(blank=True, max_length=255, verbose_name='UsuÃ¡rio SMTP')),
                ('smtp_password', models.CharField(blank=True, max_length=500, verbose_name='Senha SMTP (criptografada)')),
                ('smtp_from_email', models.EmailField(blank=True, help_text='Email que aparecerÃ¡ como remetente', max_length=254, verbose_name='Email Remetente')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Criado Em')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Atualizado Em')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='system_configs_updated', to=settings.AUTH_USER_MODEL, verbose_name='Atualizado Por')),
            ],
            options={
                'verbose_name': 'ConfiguraÃ§Ã£o PadrÃ£o do Sistema',
                'verbose_name_plural': 'ConfiguraÃ§Ãµes PadrÃ£o do Sistema',
            },
        ),
        migrations.CreateModel(
            name='ADUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('country_code', models.CharField(choices=[('BR', 'ğŸ‡§ğŸ‡· Brasil'), ('AR', 'ğŸ‡¦ğŸ‡· Argentina'), ('MX', 'ğŸ‡²ğŸ‡½ MÃ©xico'), ('DE', 'ğŸ‡©ğŸ‡ª Alemanha'), ('IT', 'ğŸ‡®ğŸ‡¹ ItÃ¡lia'), ('CN', 'ğŸ‡¨ğŸ‡³ China'), ('US', 'ğŸ‡ºğŸ‡¸ Estados Unidos'), ('ES', 'ğŸ‡ªğŸ‡¸ Espanha'), ('FR', 'ğŸ‡«ğŸ‡· FranÃ§a'), ('GB', 'ğŸ‡¬ğŸ‡§ Reino Unido'), ('JP', 'ğŸ‡¯ğŸ‡µ JapÃ£o'), ('IN', 'ğŸ‡®ğŸ‡³ Ãndia'), ('CA', 'ğŸ‡¨ğŸ‡¦ CanadÃ¡'), ('AU', 'ğŸ‡¦ğŸ‡º AustrÃ¡lia'), ('CL', 'ğŸ‡¨ğŸ‡± Chile'), ('CO', 'ğŸ‡¨ğŸ‡´ ColÃ´mbia'), ('PE', 'ğŸ‡µğŸ‡ª Peru'), ('UY', 'ğŸ‡ºğŸ‡¾ Uruguai'), ('PY', 'ğŸ‡µğŸ‡¾ Paraguai'), ('PT', 'ğŸ‡µğŸ‡¹ Portugal'), ('NL', 'ğŸ‡³ğŸ‡± Holanda'), ('BE', 'ğŸ‡§ğŸ‡ª BÃ©lgica'), ('CH', 'ğŸ‡¨ğŸ‡­ SuÃ­Ã§a'), ('AT', 'ğŸ‡¦ğŸ‡¹ Ãustria'), ('PL', 'ğŸ‡µğŸ‡± PolÃ´nia'), ('CZ', 'ğŸ‡¨ğŸ‡¿ RepÃºblica Tcheca'), ('RU', 'ğŸ‡·ğŸ‡º RÃºssia'), ('ZA', 'ğŸ‡¿ğŸ‡¦ Ãfrica do Sul'), ('EG', 'ğŸ‡ªğŸ‡¬ Egito'), ('KR', 'ğŸ‡°ğŸ‡· Coreia do Sul'), ('TH', 'ğŸ‡¹ğŸ‡­ TailÃ¢ndia'), ('VN', 'ğŸ‡»ğŸ‡³ VietnÃ£'), ('ID', 'ğŸ‡®ğŸ‡© IndonÃ©sia'), ('MY', 'ğŸ‡²ğŸ‡¾ MalÃ¡sia'), ('SG', 'ğŸ‡¸ğŸ‡¬ Singapura'), ('TR', 'ğŸ‡¹ğŸ‡· Turquia'), ('SA', 'ğŸ‡¸ğŸ‡¦ ArÃ¡bia Saudita'), ('AE', 'ğŸ‡¦ğŸ‡ª Emirados Ãrabes')], max_length=2)),
                ('username', models.CharField(default='', max_length=150)),
                ('email', models.EmailField(blank=True, max_length=254, null=True)),
                ('first_name', models.CharField(blank=True, default='', max_length=150)),
                ('last_name', models.CharField(blank=True, default='', max_length=150)),
                ('distinguished_name', models.CharField(default='', max_length=500, unique=True)),
                ('display_name', models.CharField(blank=True, default='', max_length=300)),
                ('department', models.CharField(blank=True, max_length=200, null=True)),
                ('title', models.CharField(blank=True, max_length=200, null=True)),
                ('can_create_suppliers', models.BooleanField(default=False, verbose_name='Pode criar fornecedores')),
                ('can_edit_suppliers', models.BooleanField(default=False, verbose_name='Pode editar fornecedores')),
                ('can_delete_suppliers', models.BooleanField(default=False, verbose_name='Pode excluir fornecedores')),
                ('has_individual_permissions', models.BooleanField(default=False, verbose_name='Tem permissÃµes individuais')),
                ('last_sync', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('groups', models.ManyToManyField(blank=True, related_name='users', to='access_control.adgroup')),
            ],
            options={
                'verbose_name': 'UsuÃ¡rio do AD',
                'verbose_name_plural': 'UsuÃ¡rios do AD',
                'ordering': ['country_code', 'display_name'],
                'unique_together': {('country_code', 'username')},
            },
        ),
    ]
